<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sist.dao.music-mapper">
  <select id="musicListData" resultType="MusicVO"
   parameterType="hashmap"
  >
    SELECT no,title,poster,singer,album,num
    FROM (SELECT no,title,poster,singer,album,rownum as num
    FROM (SELECT no,title,poster,singer,album FROM genie_music ORDER BY no ASC))
    WHERE num BETWEEN #{start} AND #{end}
  </select>
  <select id="musicTotalPage" resultType="int">
    SELECT CEIL(COUNT(*)/30.0) FROM genie_music
  </select>
</mapper>